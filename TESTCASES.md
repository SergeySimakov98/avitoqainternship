1. POST /api/1/item - Сохранить объявление

1.1 Успешное создание объявления с валидными данными

Описание: Создание нового объявления со всеми обязательными полями
Предусловия: Нет  

Шаги:
1. Выполнить POST запрос https://qa-internship.avito.com/api/1/item c телом запроса:
   {
     "sellerID": 291324,
     "name": "Toyota Carina",
     "price": 250000,
     "statistics": {
       "likes": 1,
       "viewCount": 10,
       "contacts": 3
     }
   }

Ожидаемый результат:
- Статус код: 200 OK
- Тело ответа содержит {
    "status": "Сохранили объявление - {item_uuid}"
}

1.2 Создание объявления без обязательных полей

Описание: Попытка создать объявление с отсутствующими обязательными полями  
Пример корректного body запроса:
{
  "sellerID": 291324,
  "name": "Toyota Carina",
  "price": 250000,
  "statistics": {
    "likes": 1,
    "viewCount": 10,
    "contacts": 3
  }
}
Предусловия: Нет  

Шаги:
1. Выполнить POST запрос https://qa-internship.avito.com/api/1/item c телом запроса, в котором попеременно отсутствует одно из полей, например, 
{
  "name": "Toyota Carina",
  "price": 250000,
  "statistics": {
    "likes": 1,
    "viewCount": 10,
    "contacts": 3
  }
}
Примечания: все поля эндпоинта обязательны

Ожидаемый результат:
- Статус код: 400 Bad Request
- Тело ответа содержит ошибку {
    "result": {
        "message": "поле sellerID обязательно",
        "messages": {}
    },
    "status": "400"
}

1.3 Создание объявления с невалидными типами данных

Описание: Попытка создать объявление с неверными типами данных в полях
Пример корректного body запроса с корректными типами данных:
{
  "sellerID": int,
  "name": str,
  "price": int,
  "statistics": obj{
    "likes": int,
    "viewCount": int,
    "contacts": int
  }
}
Предусловия: Нет  

Шаги:
1. Выполнить POST запрос https://qa-internship.avito.com/api/1/item с body, в котором попеременно отправляются поля с некорректными типами данных, например:
{
  "sellerID": "291324",
  "name": "Toyota Carina",
  "price": 250000,
  "statistics": {
    "likes": 1,
    "viewCount": 10,
    "contacts": 3
  }
}

Ожидаемый результат:
- Статус код: 400 Bad Request
- Тело ответа содержит {
    "result": {
        "message": "",
        "messages": {}
    },
    "status": "не передано тело объявления"
}

1.4 Создание объявления с пустым телом запроса

Описание: Попытка создать объявление без данных в теле запроса  
Предусловия: Нет

Шаги:
1. Выполнить POST запрос https://qa-internship.avito.com/api/1/item с пустым телом запроса 

Ожидаемый результат:
- Статус код: 400 Bad Request
- Тело ответа содержит {
    "result": {
        "message": "поле name обязательно",
        "messages": {}
    },
    "status": "400"
}


2. GET /api/1/item/:id - Получить объявление по идентификатору

2.1 Успешное получение объявления по валидному ID

Описание: Получение объявления с существующим идентификатором  
Предусловия: В системе существует объявление с uuid=a41a5034-9fd1-4965-903f-f23061fc216a

Шаги:
1. Выполнить GET запрос https://qa-internship.avito.com/api/1/item/a41a5034-9fd1-4965-903f-f23061fc216a

Ожидаемый результат:

- Статус код: 200 OK
- Тело ответа содержит массив объектов с полями:
    - createdAt (string)
  - id (string)
  - sellerId (integer)
  - name (string)
  - price (integer)
  - statistics (объект с полями: likes, viewCount, contacts)


2.2 Получение объявления с несуществующим ID

Описание: Запрос объявления с ID, которого не существует
Предусловия: Убедиться, что объявления с uuid=8a25e9bc-2736-4eee-ab13-2e5964350c7d не существует

Шаги:
1. Выполнить GET запрос https://qa-internship.avito.com/api/1/item/8a25e9bc-2736-4eee-ab13-2e5964350c7d

Ожидаемый результат:
- Статус код: 404 Not Found
- Тело ответа содержит "message": "item 8a25e9bc-2736-4eee-ab13-2e5964350c7d not found"

2.3 Запрос с невалидным форматом ID

Описание: Запрос объявления с некорректным форматом идентификатора  
Предусловия: Нет  

Шаги:
1. Выполнить GET запрос https://qa-internship.avito.com/api/1/item/1234567890

Ожидаемый результат:
- Статус код: 400 Bad Request
- Тело ответа содержит "message": "ID айтема не UUID: 1234567890"

3. GET /api/1/statistic/:id - Получить статистику по объявлению

3.1 Успешное получение статистики по валидному ID

Описание: Получение статистики объявления с существующим ID  
Предусловия: В системе существует объявление с uuid=a41a5034-9fd1-4965-903f-f23061fc216a

Шаги:
1. Выполнить GET запрос https://qa-internship.avito.com/api/1/statistic/a41a5034-9fd1-4965-903f-f23061fc216a

Ожидаемый результат:
- Статус код: 200 OK
- Тело ответа содержит
[
    {
        "contacts": 3,
        "likes": 1,
        "viewCount": 10
    }
]

3.2 Получение статистики по несуществующему ID

Описание: Запрос статистики для объявления, которого нет в системе  
Предусловия: Убедиться, что объявления с uuid=8a25e9bc-2736-4eee-ab13-2e5964350c7d не существует 
Шаги:
1. Выполнить GET запрос https://qa-internship.avito.com/api/1/statistic/8a25e9bc-2736-4eee-ab13-2e5964350c7d

Ожидаемый результат:
- Статус код: 404 Not Found
- Тело ответа содержит
{
    "result": {
        "message": "statistic 8a25e9bc-2736-4eee-ab13-2e5964350c7d not found",
        "messages": null
    },
    "status": "404"
}

3.3 Запрос статистики с невалидным форматом ID

Описание: Запрос статистики с некорректным идентификатором  
Предусловия: Нет  

Шаги:
1. Выполнить GET запрос https://qa-internship.avito.com/api/1/statistic/1234567890

Ожидаемый результат:
- Статус код: 400 Bad Request
- Тело ответа содержит 
{
    "result": {
        "message": "передан некорректный идентификатор объявления",
        "messages": {}
    },
    "status": "400"
}

4. GET /api/1/:sellerID/item - Получить все объявления пользователя

4.1 Успешное получение всех объявлений продавца

Описание: Получение списка всех объявлений для существующего продавца  
Предусловия: В системе существует продавец с ID = 291324 и его объявления с uuid a00d6148-d9d2-47b2-8eda-5d32615a5181 и 6fff72c0-31df-4d2a-8302-b5d38ca6b443

Шаги:
1. Выполнить GET запрос https://qa-internship.avito.com/api/1/291324/item

Ожидаемый результат:
- Статус код: 200 OK
- Тело ответа содержит массив объектов объявлений, среди которых есть объявления с uuid a00d6148-d9d2-47b2-8eda-5d32615a5181 и 6fff72c0-31df-4d2a-8302-b5d38ca6b443
- Структура объекта объявления следующая:
{
        "createdAt": "2025-12-28 12:45:18.187234 +0300 +0300",
        "id": "a00d6148-d9d2-47b2-8eda-5d32615a5181",
        "name": "Toyota Carina",
        "price": 25000,
        "sellerId": 291324,
        "statistics": {
            "contacts": 3,
            "likes": 1,
            "viewCount": 10
        }
    }

4.2 Получение объявлений продавца без объявлений

Описание: Запрос объявлений для продавца, у которого нет объявлений  
Предусловия: В системе существует продавец без объявлений (на момент написания тест-кейса это id = 456230)

Шаги:
1. Выполнить GET запрос https://qa-internship.avito.com/api/1/456230/item

Ожидаемый результат:
- Статус код: 200 OK
- Тело ответа содержит пустой массив []

4.3 Запрос с невалидным форматом sellerID

Описание: Запрос объявлений с некорректным идентификатором продавца  
Предусловия: Нет  

Шаги:
1. Выполнить GET запрос https://qa-internship.avito.com/api/1/456230invalid/item

Ожидаемый результат:
- Статус код: 400 Bad Request
- Тело ответа содержит {
    "result": {
        "message": "передан некорректный идентификатор продавца",
        "messages": {}
    },
    "status": "400"
}
